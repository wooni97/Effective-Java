# 아이템 20. 추상 클래스보다는 인터페이스를 우선하라

### 추상 클래스와 인터페이스

<aside>
💡 **인터페이스** : `implements` 라는 키워드처럼 인터페이스에 정의된 메서드를 각 클래스의 목적에 맞게 기능을 구현하는 느낌(완전 추상화)

**추상 클래스** : `extends` 키워드를 사용해서 자신의 기능들을 하위 클래스로 확장 시키는 느낌 (부분적 추상화)

</aside>

인터페이스는 클래스와 별도로 구현 객체가 같은 동작을 한다는 것을 보장하기 위해서 사용한다. 모든 메서드가 추상 메서드이기 때문에 구현에 강제성이 부여된다.

추상 클래스는 하위 클래스들의 공통점을 모아 추상화하여 만든 클래스로 클래스간의 연관 관계를 구축하는 것에 초점을 둔다. 하위 클래스들이 가진 공통적인 기능과 속성을 끌어올려 추상화한다.

가장 중요한것은 **자바는 다중 상속이 불가능하기 때문에 추상 클래스는 하나만 상속이 가능하다. 그러나 인터페이스는 여러개를 구현할 수 있다.**

*일반 클래스에서 상속하는것이 아닌 추상 클래스를 사용하는 이유는?*

: 하위 클래스에서 매번 달라지는 메서드를 하위 클래스에서 재정의하도록 만든다

그러나 필드를 공통적으로 갖는다고 상속으로 가지면 피곤해질 가능성이 굉장히 높다. 그럴바에는 별도의 VO를 정의해서 그 클래스를 컴포지션으로 활용할 수 있다.

이런 관점에서 상속보다 컴포지션을 사용한다는 말이 사용된다.

### 인터페이스의 장점

> **기존 클래스에도 손쉽게 새로운 인터페이스를 구현해넣을 수 있다**
>

인터페이스가 요구하는 메서드를 추가하고, implements 구문만 추가하면 된다.

기존 클래스 위에 새로운 추상 클래스를 끼워넣기는 어렵다. 두 클래스가 같은 추상 클래스를 확장하길 원한다면, 그 추상 클래스는 계층구조상 두 클래스의 공통 조상이어야 한다. 계층 구조에 커다란 혼란을 일으킨다.

> **인터페이스는 믹스인 정의에 안성맞춤이다**
>

<aside>
💡 **믹스인이란?**

객체지향언어에서 다른 클래스에서 '사용'할 목적으로 만들어진 클래스이다. '`포함`'으로 설명된다. '`상속`'과 주로 비교되는 개념이다.
(is-a vs has-a)Composition 혹은 Aggregation 이라고 불리기도 한다. 코드 재사용성을 높여주고, 상속의 단점을 해결할 수도 있다.
자바코드에서는 다중 상속의 제한이 없는 인터페이스로 구현하기 용이하다.
대상 타입의 주된 기능에 선택적 기능을 '혼합(mixed in)'한다고 해서 믹스인이라 불린다.

</aside>

> **인터페이스로는 계층 구조가 없는 타입 프레임워크를 만들 수 있다.**
>

타입을 계층적으로 정의하면 수많은 개념을 구조적으로 잘 표현할 수 있지만, 현실에서는 계층을 엄격히 구분하기 어려운 개념도 있다.

> **인터페이스는 기능을 향상시키는 안전하고 강력한 수단이 된다.**
>

타입을 추상 클래스로 정의해두면 그 타입에 기능을 추가하는 방법은 상속뿐이다. 타입을 추상 클래스로 정의해두면 그 타입에 기능을 추가하는 방법은 상속뿐이다.

### 추상 골격 구현 클래스

인터페이스는 인스턴스 필드를 가지고 있지 않고, 메서드들을 오버라이드 해야하는 귀찮음이 있다.

이를 추상 클래스와 결합하여 인터페이스는 타입을 정의하고, 골격 구현 클래스에서는 나머지 메서드들을 정의하는 형식으로 인터페이스를 구현한다.

이렇게 해두면 단순히 골격 구현을 확장하는 것만으로 이 인터페이스를 구현하는 데 필요한 일이 대부분 완료된다. → 템플릿 메서드 패턴

관례상 이름이 Interface라면 그 골격 구현 클래스의 이름은 AbstractInterface로 짓는다. 제대로 설계했다면 골격 구현은 그 인터페이스로 나름의 구현을 만들려는 프로그래머의 일을 상당히 덜어준다.